## Summary
- ✅ The theme provider now removes and adds scheme classes via `classList`, toggles the `dark` class, and reapplies CSS variables on every palette or theme change, avoiding the previous `root.className` overwrite issue.【F:src/context/ThemeContext.tsx†L70-L128】
- ✅ Shared visualization components pull colors from the active palette so charts and analytics views no longer depend on hard-coded brand hex values or white strokes.【F:src/components/ui/Chart.tsx†L35-L238】【F:src/features/tag/components/TagAnalytics.tsx†L301-L405】【F:src/features/category/components/CategoryAnalytics.tsx†L200-L319】
- ✅ Feature surfaces such as tag tables and quiz statistics consume tokenized backgrounds, text, borders, and focus rings provided by the updated primitives.【F:src/features/tag/components/TagList.tsx†L120-L219】【F:src/features/quiz/components/QuizStats.tsx†L22-L169】
- ⚠️ The user dropdown and tooltip arrow styles still lean on Tailwind neutrals (`border-gray-100`, `ring-black`, `border-*-gray-900`) instead of palette-driven tokens.【F:src/features/user/components/UserMenu.tsx†L189-L319】【F:src/components/ui/Tooltip.tsx†L35-L47】
- ⚠️ Several call-to-action buttons continue to reference `focus:ring-gray-500` rather than the palette’s `theme-focus-ring` token, leaving focus states inconsistent across schemes.【F:src/pages/QuizAttemptFlowPage.tsx†L180-L189】【F:src/features/document/components/DocumentViewer.tsx†L213-L223】
- ⚠️ Status helpers return the same tertiary background class for all severities even though palette-specific status backgrounds are available, so semantic surfaces can’t yet pick up scheme-specific fills.【F:src/utils/statusHelpers.ts†L33-L82】

## Completed
- Theme resolution and application now use targeted `classList` operations, respect system preference, persist selections, and update CSS variables plus the `theme-color` meta tag when schemes change.【F:src/context/ThemeContext.tsx†L70-L128】
- Charting primitives derive fills, strokes, and accents from the palette’s interactive and status tokens, and analytics screens wrap their panels in theme-aware surfaces and typography.【F:src/components/ui/Chart.tsx†L35-L238】【F:src/features/tag/components/TagAnalytics.tsx†L301-L405】【F:src/features/category/components/CategoryAnalytics.tsx†L200-L319】
- Data-heavy feature modules (tag listings, quiz stats, etc.) leverage the shared `Card` scaffolding and palette-backed utility classes for actions, inputs, and metrics, eliminating the prior reliance on Tailwind neutrals.【F:src/features/tag/components/TagList.tsx†L120-L219】【F:src/features/quiz/components/QuizStats.tsx†L22-L169】

## Outstanding / Next Steps
1. Replace the remaining Tailwind neutral borders and shadows in the user account menu with palette tokens (e.g., swap `border-gray-100`/`ring-black` for `theme-border-*`/`theme-shadow`).【F:src/features/user/components/UserMenu.tsx†L189-L319】
2. Audit interactive controls for static `focus:ring-gray-500` usage and migrate them to `focus:ring-theme-focus-ring` + `focus:ring-offset-theme-focus-ring-offset` so focus cues adapt per palette.【F:src/pages/QuizAttemptFlowPage.tsx†L180-L189】【F:src/features/document/components/DocumentViewer.tsx†L213-L223】
3. Update tooltip arrow borders to source their color from palette variables instead of hard-coded gray values.【F:src/components/ui/Tooltip.tsx†L35-L47】
4. Extend `getStatusHelpers` to surface palette-specific background classes (e.g., `bg-theme-status-success-bg`) so semantic alerts and badges inherit the selected scheme’s intent colors.【F:src/utils/statusHelpers.ts†L33-L82】